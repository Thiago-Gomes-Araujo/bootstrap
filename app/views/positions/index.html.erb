<h2 style="text-align: center"> Minhas Vagas </h2>

<%= search_form_for @q do |f| %>
  <div class = "form-group row align-items-start" style="text-align: center">
    <div class="form-group col-md-4">
      <%= f.label :name_cont, "Buscar por Nome de Vaga" %>
      <%= f.search_field :name_cont %>
    </div>
    <div class="form-group col-md-4">
      <%= f.label :career_name_cont, "Buscar por Nome de Carreira" %>
      <%= f.search_field :career_name_cont %>
    </div>
   <div class="form-group col-md-4">
      <%= f.label :contract_name_cont, "Buscar por Tipo de Contrato" %>
      <%= f.search_field :contract_name_cont %>
    </div>
    <div style="text-align: center">
       <br>
      <%= f.submit "Buscar", class: 'btn btn-primary' %>
    </div>
<% end %>

<table class="table table-striped table-hover">
  <p style="color: green"><%= notice %></p>
  <thead>
    <tr>
      <th scope="col" style="text-align: center" > Vaga </th>
      <th scope="col" style="text-align: center"> Categoria </th>
      <th scope="col" style="text-align: center"> Tipo de Contrato </th>
      <th scope="col" style="text-align: center"> Tipo da Vaga </th>
      <th scope="col" style="text-align: center"> Canditaduras </th>
      <th scope="col" style="text-align: center"> AÃ§Ãµes </th>
    </tr>
  </thead>
  <tbody>

    <% @positions.each do |position| %>
        <tr>
            <th scope="row" style="text-align: center" > <%= position.name %> </th>
            <td style="text-align: center" > <%= position.career.name %> </td>
            <td style="text-align: center" > <%= position.contract.name %> </td>
            <td style="text-align: center" > <%= position.type_vacancy.name %> </td>
            <td style="text-align: center" > 1 (ver detalhes) </td>
            <td style="text-align: center"> 
            <div class="dropdown align-items-start col-12">
              <button class="btn btn-secondary btn-sm dropdown-toggle" type="button"data-bs-toggle="dropdown" aria-expanded="false">
                <i class="fas fa-cog"></i>
              </button>
              <ul class="dropdown-menu">
                <%= link_to "Editar", edit_position_path(position), class: 'dropdown-item' %></li>
                <%= button_to "Excluir", position, class: "btn btn-danger", method: :delete, data: { confirm: "Tem certeza?" }, class: 'dropdown-item' %></li>
              </ul>
            </div>
          </td>
        </tr>
    <% end %>
  </tbody>
</table>
<div class="form-actions" style="text-align: center">
  <%= link_to "Nova Vaga", new_position_path, class: 'btn btn-success' %>
</div>
<%= render 'shared/pagination' %>
