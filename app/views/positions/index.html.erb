<h2 style="text-align: center"> Minhas Vagas </h2>

<%= search_form_for @q do |f| %>
  <div class="field">
    <%= f.label :name_cont, "Buscar por Nome de Vaga" %>
    <%= f.search_field :name_cont %>
  </div>
  <div class="field">
    <%= f.label :career_name_cont, "Buscar por Nome de Carreira" %>
    <%= f.search_field :career_name_cont %>
  </div>
  <div class="field">
    <%= f.label :contract_name_cont, "Buscar por Tipo de Contrato" %>
    <%= f.search_field :contract_name_cont %>
  </div>
  <div class="actions">
    <%= f.submit "Buscar", class: 'btn btn-primary' %>
  </div>
<% end %>

<table class="table table-striped table-hover">
  <p style="color: green"><%= notice %></p>
  <thead>
    <tr>
      <th scope="col" style="text-align: center" > Vaga </th>
      <th scope="col" style="text-align: center"> Categoria </th>
      <th scope="col" style="text-align: center"> Tipo de Contrato </th>
      <th scope="col" style="text-align: center"> Tipo da Vaga </th>
      <th scope="col" style="text-align: center"> Canditaduras </th>
      <th scope="col" style="text-align: center"> AÃ§Ãµes </th>
    </tr>
  </thead>
  <tbody>

    <% @positions.each do |position| %>
        <tr>
            <th scope="row" style="text-align: center" > <%= position.name %> </th>
            <td style="text-align: center" > <%= position.career.name %> </td>
            <td style="text-align: center" > <%= position.contract.name %> </td>
            <td style="text-align: center" > <%= position.type_vacancy.name %> </td>
            <td style="text-align: center" > 1 (ver detalhes) </td>
            <td style="text-align: center"> 
            <div class = "row align-items-start col-12">
              <div class="col-6">
                <%= link_to "Editar", edit_position_path(position), class: 'btn btn-secondary' %>
              </div>
              <div class="col-6">
                <%= button_to "Excluir", position, class: "btn btn-danger",
                data: { confirm: "Tem Certeza ?", turbo_confirm: "Tem Certeza ?"}, method: :delete %>
              </div>
            </div>
          </td>
        </tr>
    <% end %>
  </tbody>
</table>
<%= render 'shared/pagination' %>
<%= link_to "Nova Vaga", new_position_path, class: 'btn btn-success' %>