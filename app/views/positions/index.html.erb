<h2 style="text-align: center"> Minhas Vagas </h2>

<%= search_form_for @q do |f| %>
  <div class = 'container'>
    <div class = "row">
      <div class="col-11">
        <%= f.search_field :name_or_career_name_or_contract_name_cont, class: "form-control", placeholder: "Digite o nome da vaga, carreira ou contrato" %>
      </div>
      <div class="col btn-padding">
        <%= f.submit "Buscar", class: 'btn btn-primary' %>
      </div>
    </div>
  </div>
<% end %>

<table class="table table-striped table-hover">
  <p style="color: green"><%= notice %></p>
  <thead>
    <tr>
      <th scope="col" style="text-align: center" > Vaga </th>
      <th scope="col" style="text-align: center"> Categoria </th>
      <th scope="col" style="text-align: center"> Tipo de Contrato </th>
      <th scope="col" style="text-align: center"> Tipo da Vaga </th>
      <th scope="col" style="text-align: center"> Canditaduras </th>
      <th scope="col" style="text-align: center"> AÃ§Ãµes </th>
    </tr>
  </thead>
  <tbody>

    <% @positions.each do |position| %>
        <tr>
            <th scope="row" style="text-align: center" > <%= position.name %> </th>
            <td style="text-align: center" > <%= position.career.name %> </td>
            <td style="text-align: center" > <%= position.contract.name %> </td>
            <td style="text-align: center" > <%= position.type_vacancy.name %> </td>
            <td style="text-align: center" > 1 (ver detalhes) </td>
            <td style="text-align: center"> 
            <div class="dropdown align-items-start">
              <button class="btn btn-secondary btn-sm dropdown-toggle" type="button"data-bs-toggle="dropdown">
                <i class="fas fa-cog"></i>
              </button>
              <ul class="dropdown-menu">
                <%= link_to "Editar", edit_position_path(position), class: 'dropdown-item' %>
                <%= button_to "Excluir", position, class: "btn btn-danger", method: :delete, data: { confirm: "Tem certeza?" }, class: 'dropdown-item' %>
              </ul>
            </div>
          </td>
        </tr>
    <% end %>
  </tbody>
</table>
<div class="form-actions" style="text-align: center">
  <%= link_to "Nova Vaga", new_position_path, class: 'btn btn-success' %>
</div>
<%= render 'shared/pagination' %>
